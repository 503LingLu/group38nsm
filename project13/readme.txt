这段代码使用了OpenSSL 库中的 SM2 椭圆曲线加密算法，实现了两个函数：ECMH 和 ECMH_append。

首先，包含了一些头文件，用于引入必要的库和定义所需的数据类型。

其中，椭圆曲线的参数 p、a、b、n 和 g 是固定的。这些参数定义了 SM2 椭圆曲线的方程和基点。

ECMH 函数实现了对消息进行哈希操作，并将哈希值作为私钥生成公钥。具体步骤如下：

使用 SHA256 算法计算输入消息的哈希值。
将哈希值转换为大数表示。
创建 SM2 椭圆曲线群组。
创建一个新的椭圆曲线点，即公钥。
利用私钥和基点对应的椭圆曲线点生成公钥。
将公钥的横纵坐标拼接成一个字符串，作为函数的返回值。
ECMH_append 函数在 ECMH 的基础上进一步处理：

根据输入的哈希值生成公钥。
创建一个新的椭圆曲线点。
将两个椭圆曲线点相加，得到新的椭圆曲线点。
将相加结果的横纵坐标拼接成一个字符串，作为函数的返回值。
在 main 函数中，可以输入两个字符串，然后分别对这两个字符串进行哈希，并进行不同顺序的拼接操作。最后，将结果输出到控制台。